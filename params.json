{"name":"FTPSpec","tagline":"RSpec custom matchers for ftp server that enables you to test file structure like Serverspec.","body":"[![Build Status](https://travis-ci.org/suzuki86/ftpspec.svg?branch=master)](https://travis-ci.org/suzuki86/ftpspec)\r\n\r\n# FTPSpec\r\n\r\nRSpec custom matchers for ftp server that enables you to test file structure like Serverspec.\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n```ruby\r\ngem 'ftpspec'\r\n```\r\n\r\nAnd then execute:\r\n\r\n```\r\n$ bundle\r\n```\r\n\r\nOr install it yourself as:\r\n\r\n```\r\n$ gem install ftpspec\r\n```\r\n\r\n## Usage\r\n\r\nExecute ftpspec-init command.\r\n\r\n```\r\n$ ftpspec-init\r\n```\r\n\r\nThen, spec directory will be generated.\r\n\r\n```\r\n$ tree\r\n.\r\n├── Rakefile\r\n└── spec\r\n    ├── ftp_spec.rb\r\n    └── spec_helper.rb\r\n\r\n1 directory, 3 files\r\n```\r\n\r\nWrite credentials of ftp server into spec/spec_helper.rb\r\n\r\n```ruby\r\nrequire \"ftpspec\"\r\nrequire \"rubygems\"\r\nrequire \"rspec\"\r\nrequire \"net/ftp\"\r\n\r\nRSpec.configure do |c| \r\n  c.add_setting :ftp, :default => nil \r\n  c.before do\r\n    hostname = \"YOUR HOSTNAME\"\r\n    user = \"YOUR USER\"\r\n    password = \"YOUR PASSWORD\"\r\n    c.ftp = Net::FTP.new\r\n    c.ftp.passive = true\r\n    c.ftp.connect(hostname)\r\n    c.ftp.login(user, password)\r\n    Ftpspec.set_ftp\r\n  end \r\n  c.after do\r\n    c.ftp.close\r\n  end \r\nend\r\n```\r\n\r\nWrite spec in each spec files.\r\n\r\n```ruby\r\nrequire \"spec_helper\"\r\n\r\ndescribe \"/httpdocs/index.html\" do\r\n  it { should be_mode \"644\" }\r\nend\r\n```\r\n\r\nExecute rake command.\r\n\r\n```\r\n$ rake spec\r\n```\r\n\r\nResults are shown.\r\n\r\n```\r\n.\r\n\r\nFinished in 2 seconds (files took 0.14477 seconds to load)\r\n1 examples, 0 failures\r\n```\r\n\r\n## Matchers\r\n\r\n### be_mode\r\n\r\nTest whether file permission of subject is same as expected.\r\n\r\n```ruby\r\ndescribe \"/httpdocs/index.html\" do\r\n  it { should be_mode \"644\" }\r\nend\r\n```\r\n\r\n### be_file\r\n\r\nTest whether subject is a file.\r\n\r\n```ruby\r\ndescribe \"/httpdocs/index.html\" do\r\n  it { should be_file }\r\nend\r\n```\r\n\r\n### be_directory\r\n\r\nTest whether subject is a directory.\r\n\r\n```ruby\r\ndescribe \"/httpdocs/images\" do\r\n  it { should be_directory }\r\nend\r\n```\r\n\r\n### be_owned_by\r\n\r\nTest whether subject is owned by expected owner.\r\n\r\n```ruby\r\ndescribe \"/httpdocs/index.html\" do\r\n  it { should be_owned_by \"someone\" }\r\nend\r\n```\r\n\r\n### be_grouped_into\r\n\r\nTest whether subject is grouped into expected group.\r\n\r\n```ruby\r\ndescribe \"/httpdocs/index.html\" do\r\n  it { should be_grouped_into \"admin\" }\r\nend\r\n```\r\n\r\n## Contributing\r\n\r\n1. Fork it ( https://github.com/[my-github-username]/ftpspec/fork )\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create a new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}